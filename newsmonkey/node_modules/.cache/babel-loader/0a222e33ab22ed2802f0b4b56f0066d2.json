{"ast":null,"code":"var _jsxFileName = \"C:\\\\Master React Course\\\\newsmonkey\\\\src\\\\Components\\\\News.js\";\nimport React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor() {\n    super(); // console.log(\"hellow i am constructor..ðŸ˜\");\n\n    this.handlePrevClick = async () => {\n      // console.log(\"prev\");\n      let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=14bfa21dd6fc493e9dd82c9a4f61158f&page=${this.state.page - 1} &pageSize=${this.props.pageSize}`;\n      let data = await fetch(url);\n      this.setState({\n        loading: true\n      });\n      let parseData = await data.json();\n      this.setState({\n        loading: false\n      });\n      this.setState({\n        page: this.state.page - 1,\n        articles: parseData.articles\n      });\n    };\n\n    this.handleNextClick = async () => {\n      // console.log(\"next\");\n      if (this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)) {} else {\n        let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=14bfa21dd6fc493e9dd82c9a4f61158f&page=${this.state.page + 1} &pageSize=${this.props.pageSize}`;\n        let data = await fetch(url);\n        this.setState({\n          loading: true\n        });\n        let parseData = await data.json();\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          page: this.state.page + 1,\n          articles: parseData.articles\n        });\n      }\n    };\n\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1\n    };\n  }\n\n  async componentDidMount() {\n    let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=14bfa21dd6fc493e9dd82c9a4f61158f&page=1&pageSize=${this.props.pageSize}`;\n    this.setState({\n      loading: true\n    });\n    let data = await fetch(url);\n    let parseData = await data.json();\n    console.log(data);\n    this.setState({\n      articles: parseData.articles,\n      totalArticles: parseData.totalResults,\n      loading: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-56 mt-9\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-2xl text-center\",\n          children: \"NewsMonkey - Top Headlines\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 my-8 gap-3\",\n        children: this.state.articles.map(element => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(NewsItem, {\n              title: element.title ? element.title.slice(0, 66) : \"\",\n              description: element.description ? element.description.slice(0, 124) : \"\",\n              Imgurl: element.urlToImage,\n              newsUrl: element.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, element.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: this.state.page <= 1,\n            className: \"bg-gray-800 text-white text-xl rounded-md px-2 font-medium py-0.5\",\n            onClick: this.handlePrevClick,\n            children: \"\\u2190 Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-7 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"page \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), \" \", this.state.page]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize),\n            className: \"bg-gray-800 text-white text-xl rounded-md px-2 font-medium py-0.5\",\n            onClick: this.handleNextClick,\n            children: \"Next \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default News;","map":{"version":3,"sources":["C:/Master React Course/newsmonkey/src/Components/News.js"],"names":["React","Component","NewsItem","Spinner","News","constructor","handlePrevClick","url","state","page","props","pageSize","data","fetch","setState","loading","parseData","json","articles","handleNextClick","Math","ceil","totalResults","componentDidMount","console","log","totalArticles","render","map","element","title","slice","description","urlToImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\n\r\nexport class News extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        // console.log(\"hellow i am constructor..ðŸ˜\");\r\n\r\n        this.state = {\r\n            articles: [],\r\n            loading: false,\r\n            page: 1\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=14bfa21dd6fc493e9dd82c9a4f61158f&page=1&pageSize=${this.props.pageSize}`;\r\n        this.setState({loading:true});\r\n        let data = await fetch(url);\r\n        let parseData = await data.json();\r\n        console.log(data);\r\n        this.setState({ articles: parseData.articles,\r\n            totalArticles: parseData.totalResults,\r\n            loading: false\r\n         })\r\n    }\r\n\r\n    handlePrevClick = async () => {\r\n        // console.log(\"prev\");\r\n        let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=14bfa21dd6fc493e9dd82c9a4f61158f&page=${this.state.page - 1} &pageSize=${this.props.pageSize}`;\r\n        let data = await fetch(url);\r\n        this.setState({loading:true});\r\n        let parseData = await data.json();\r\n        this.setState({loading:false});\r\n        this.setState({\r\n            page: this.state.page - 1,\r\n            articles: parseData.articles,\r\n        })\r\n    }\r\n\r\n    handleNextClick = async () => {\r\n            // console.log(\"next\");\r\n            if(this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize))\r\n            {\r\n\r\n            }\r\n            else\r\n            {\r\n\r\n                let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=14bfa21dd6fc493e9dd82c9a4f61158f&page=${this.state.page + 1} &pageSize=${this.props.pageSize}`;\r\n                let data = await fetch(url);\r\n                this.setState({loading:true});\r\n                let parseData = await data.json();\r\n                this.setState({loading:false});\r\n                this.setState({\r\n                    page: this.state.page + 1,\r\n                    articles: parseData.articles\r\n                })\r\n            }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='mx-56 mt-9'>\r\n                <div>\r\n                    <h1 className='font-bold text-2xl text-center'>NewsMonkey - Top Headlines</h1>\r\n                    {/* this is the logic to run the spinner whenever the data is loaded */}\r\n                   {this.state.loading && <Spinner />}\r\n                </div>\r\n                <div className='grid grid-cols-3 my-8 gap-3'>\r\n                    {this.state.articles.map((element) => {\r\n                        return <div key={element.url}>\r\n                            {/* now untill here we did a lot of things, so lets try this out..ðŸ˜\r\n                             if i click on read more.. then the whole news should displayed on new window..\r\n                             */}\r\n                            {/* now here we set some conditions --> if let suppose some of the fields such as auther or imageUrl is null then it will throw an error. So, to prevent that we will use ternary operator, as follows */}\r\n                            <NewsItem title={element.title ? element.title.slice(0, 66) : \"\"} description={element.description ? element.description.slice(0, 124) : \"\"} Imgurl={element.urlToImage} newsUrl={element.url} />\r\n                        </div>\r\n                    })}\r\n                </div>\r\n\r\n                {/* now as we have added buttons we need to define their logic, so here also we will set the logic using onclick events \r\n                also we need set conditions to our previous buttons cause page no. cannot go back to page no. 1\r\n                so use disabled method\r\n                */}\r\n                <div className=\"container flex justify-between\">\r\n                    <div>\r\n                        <button disabled={this.state.page <= 1} className='bg-gray-800 text-white text-xl rounded-md px-2 font-medium py-0.5' onClick={this.handlePrevClick}>&larr; Previous</button>\r\n                    </div>\r\n                    <div className='mt-7 mb-2'>\r\n                        <span className='font-medium'>page </span> {this.state.page}\r\n                    </div>\r\n                    {/* <Spinner/> */}\r\n                    <div>\r\n                        <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} className='bg-gray-800 text-white text-xl rounded-md px-2 font-medium py-0.5' onClick={this.handleNextClick}>Next &rarr;</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News"]},"metadata":{},"sourceType":"module"}